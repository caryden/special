# Experiments

Raw outputs from translation experiments. Each directory contains the code
generated by an AI agent translating a skill/spec/prompt into a target language.

## Naming Convention

Directories follow the pattern: `{library}-{format}-{language}[-{model}]`

- **library**: `whenwords`, `mathexpr`, `optimize-skill`
- **format**: `ref` (reference code), `spec` (markdown spec), `prompt` (natural language), `skill` (progressive disclosure)
- **language**: `python`, `rust`, `go`
- **model** (optional): `haiku`, `sonnet`. Omitted means `opus` (default).

Examples:
- `whenwords-ref-python` — whenwords, REF format, Python, opus
- `mathexpr-prompt-rust-haiku` — mathexpr, PROMPT format, Rust, haiku
- `mathexpr-skill-go` — mathexpr, SKILL format, Go, opus
- `optimize-skill-python` — optimization (Nelder-Mead subset), SKILL format, Python, opus

## Source Material Directories

- `whenwords/` — SPEC.md and PROMPT.md source materials for whenwords experiments
- `mathexpr/` — SPEC.md and PROMPT.md source materials for mathexpr experiments

## Scripts

| Script | Purpose |
|--------|---------|
| `cross-validate.py` | Cross-validation runner for whenwords |
| `extract-tokens.py` | Token usage extraction from agent session logs |
| `mathexpr-cross-validate.py` | Cross-validation runner for mathexpr (41 REF vectors) |
| `mathexpr-cross-validate-all.sh` | Full mathexpr cross-validation across all formats |
| `mathexpr-extract-tokens.py` | Token extraction for mathexpr opus runs |
| `mathexpr-extract-tokens-haiku.py` | Token extraction for mathexpr haiku runs |
| `mathexpr-extract-tokens-sonnet.py` | Token extraction for mathexpr sonnet runs |

## Experiment Index

### Whenwords (Stage 1) — 9 translations

| Format | Python | Rust | Go |
|--------|--------|------|----|
| REF    | `whenwords-ref-python` | `whenwords-ref-rust` | `whenwords-ref-go` |
| SPEC   | `whenwords-spec-python` | `whenwords-spec-rust` | `whenwords-spec-go` |
| PROMPT | `whenwords-prompt-python` | `whenwords-prompt-rust` | `whenwords-prompt-go` |

### Mathexpr (Stage 2) — 30 translations

**Opus** (default model):

| Format | Python | Rust | Go |
|--------|--------|------|----|
| REF    | `mathexpr-ref-python` | `mathexpr-ref-rust` | `mathexpr-ref-go` |
| SPEC   | `mathexpr-spec-python` | `mathexpr-spec-rust` | `mathexpr-spec-go` |
| PROMPT | `mathexpr-prompt-python` | `mathexpr-prompt-rust` | `mathexpr-prompt-go` |
| SKILL  | `mathexpr-skill-python` | `mathexpr-skill-rust` | `mathexpr-skill-go` |

**Haiku**:

| Format | Python | Rust | Go |
|--------|--------|------|----|
| REF    | `mathexpr-ref-python-haiku` | `mathexpr-ref-rust-haiku` | `mathexpr-ref-go-haiku` |
| SPEC   | `mathexpr-spec-python-haiku` | `mathexpr-spec-rust-haiku` | `mathexpr-spec-go-haiku` |
| PROMPT | `mathexpr-prompt-python-haiku` | `mathexpr-prompt-rust-haiku` | `mathexpr-prompt-go-haiku` |

**Sonnet**:

| Format | Python | Rust | Go |
|--------|--------|------|----|
| REF    | `mathexpr-ref-python-sonnet` | `mathexpr-ref-rust-sonnet` | `mathexpr-ref-go-sonnet` |
| SPEC   | `mathexpr-spec-python-sonnet` | `mathexpr-spec-rust-sonnet` | `mathexpr-spec-go-sonnet` |
| PROMPT | `mathexpr-prompt-python-sonnet` | `mathexpr-prompt-rust-sonnet` | `mathexpr-prompt-go-sonnet` |

### Optimization (Stage 3) — 3 translations (Nelder-Mead subset)

| Language | Directory |
|----------|-----------|
| Python   | `optimize-skill-python` |
| Rust     | `optimize-skill-rust` |
| Go       | `optimize-skill-go` |
